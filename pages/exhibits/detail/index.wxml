<view class="detail-container">
  <!-- 图片查看器 -->
  <t-image-viewer
    deleteBtn="{{deleteBtn}}"
    closeBtn="{{closeBtn}}"
    showIndex="{{showIndex}}"
    visible="{{visible}}"
    images="{{images}}"
    initial-index="{{currentIndex}}"
    bind:change="onImageViewerChange"
    bind:close="onImageViewerClose"
  />
  <!-- 顶部封面图轮播 -->
  <view class="detail-cover" bindtap="onSwiperTap">
    <t-swiper
      height="250"
      current="{{current}}"
      autoplay="{{autoplay}}"
      duration="{{swiperDuration}}"
      interval="{{interval}}"
      navigation="{{navigation}}"
      paginationPosition="{{paginationPosition}}"
      list="{{swiperList}}"
    />
  </view>

  <!-- 内容区域 -->
  <view class="detail-content">
    <!-- 标题 -->
    <view class="detail-header">
      <view class="detail-title">{{exhibitDetail.name}}</view>
      <view class="detail-meta" wx:if="{{exhibitDetail.duration}}">
        <t-icon name="sound" size="32rpx" />
        <text class="duration">{{exhibitDetail.durationText}}</text>
      </view>
    </view>

    <!-- 语音播放器 -->
    <view class="audio-player" wx:if="{{exhibitDetail.audioUrl}}">
      <view class="audio-control" bindtap="toggleAudio">
        <view class="audio-icon">
          <t-icon name="{{isPlaying ? 'pause-circle-stroke' : 'play-circle-stroke'}}" size="80rpx" color="#fff" />
        </view>
        <view class="audio-progress" wx:if="{{exhibitDetail.audioUrl}}">
          <slider 
            value="{{currentTime}}" 
            max="{{duration}}" 
            activeColor="#fff"
            backgroundColor="rgba(255,255,255,0.3)"
            block-size="12"
            bindchange="onSliderChange"
          />
          <view class="audio-time">
            <text>{{formatTime(currentTime)}}</text>
            <text>{{formatTime(duration)}}</text>
          </view>
        </view>
      </view>
    </view>

    <!-- 详细内容 -->
    <view class="detail-text">
      <text>{{exhibitDetail.description}}</text>
    </view>
  </view>
</view>

