<view class="container">
    <!-- 头像区域 -->
    <view class="avatar-section">
        <image class="avatar" mode="heightFix" src="{{iconSrc}}" />
    </view>

    <!-- 标题 -->
    <view class="title">Hello！</view>

    <!-- 欢迎语 -->
    <view class="welcome-text">Hello！我是鼠兔米宝，点击与我对话吧~</view>

    <!-- 问题列表 -->
    <view class="question-list">
        <view 
            class="question-item" 
            wx:for="{{questions}}" 
            wx:key="index"
            hover-class="question-item-hover"
            bindtap="onQuestionTap"
            data-question="{{item.text}}"
        >
            <view class="question-content">
                <text class="question-icon">{{item.icon}}</text>
                <text class="question-text">{{item.text}}</text>
            </view>
            <view class="question-arrow">
                <t-icon name="chevron-right-circle" size="48rpx" />
            </view>
        </view>
        <view class="start-btn">
           <t-button theme="primary" icon="chat-bubble" block bindtap="onStartChatTap">
               开始对话
           </t-button>
        </view>
    </view>
</view>

<!-- 引导视频弹窗 -->
<t-popup
    visible="{{showGuideVideo}}"
    placement="center"
    overlay-props="{{ {style: 'background: ' + bgColor + ';' } }}"
>
    <view class="video-popup-content" bindtap="skipVideo">
        <view class="video-wrapper">
            <video
                id="guideVideo"
                src="{{videoSrc}}"
                autoplay
                show-center-play-btn="{{false}}"
                controls="{{false}}"
                object-fit="contain"
                bindended="onVideoEnded"
                binderror="onVideoError"
                bindcanplay="onVideoCanPlay"
                bindloadedmetadata="onVideoLoadedMeta"
                bindplay="onVideoPlay"
                style="opacity: {{videoLoading ? 0 : 1}};"
            />
            <view class="loading-wrapper" wx:if="{{videoLoading}}">
                <t-loading theme="spinner" size="48rpx" text="加载中..." />
            </view>
        </view>
        <view class="skip-btn" bindtap="skipVideo">
            <text>跳过</text> <t-icon name="chevron-right-circle" size="48rpx" />
        </view>
        <view class="bottom-guide" >
            Hello！我是鼠兔米宝，快来与我对话吧~
        </view>
    </view>
</t-popup>
